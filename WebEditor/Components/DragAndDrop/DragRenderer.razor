@inject DragAndDropManager DragAndDropManager
@implements IDisposable
@if (DragAndDropManager.DraggedFigure is Positioned<Figure> target)
{
    <ElementRenderer Position="@target.Position" IsDragging
        IsValid="@CurrentBoard.CanAddFigure(target.Position, target.Element)">
        <FigureRenderer Figure="@target.Element" />
    </ElementRenderer>
}

@code
{
    [CascadingParameter, AllowNull]
    public required BoardData CurrentBoard { get; set; }
    protected override void OnInitialized()
    {

        DragAndDropManager.OnDraggedFigureChange += CheckSelected;
    }
    public void Dispose()
    {
        DragAndDropManager.OnDraggedFigureChange -= CheckSelected;
    }
    private void CheckSelected(Positioned<Figure>? _)
    {
        StateHasChanged();
    }
}